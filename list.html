<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="/css/list.css">
		<title>Note List</title>
	</head>
	<body id="body">
		<div class="pageName"><h1 class="pageName">Notes</h1></div>
		<div class="list">
		<ul class="list" id="list">
		</ul>
		</div>
		<div class="addButtonCC">
		<div id="addButtonC" class="addButtonC">
<svg class="plus"
   width="100"
   height="100"
   viewBox="0 0 26.458333 26.458333"
   version="1.1"
   id="svg5"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   sodipodi:docname="plus.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.6444444"
     inkscape:cx="48.63189"
     inkscape:cy="59.704725"
     inkscape:window-width="1854"
     inkscape:window-height="951"
     inkscape:window-x="0"
     inkscape:window-y="20"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;stroke:#000000;stroke-width:3.45669;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1"
       d="M 3.5302197,12.994129 H 22.90728"
       id="path63" />
    <path
       style="fill:none;stroke:#000000;stroke-width:3.45669;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1"
       d="M 13.181629,3.3427197 V 22.71978"
       id="path63-3" />
  </g>
</svg>
			<input id="addButton" class="addButton">
			<div class="commitC" id="commitC">
				<input id="noteName" class="noteName" type="text" value="Untitled">
<svg class="plus2"
   width="100"
   height="100"
   viewBox="0 0 26.458333 26.458333"
   version="1.1"
   id="svg5"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   sodipodi:docname="plus.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.6444444"
     inkscape:cx="48.63189"
     inkscape:cy="59.704725"
     inkscape:window-width="1854"
     inkscape:window-height="951"
     inkscape:window-x="0"
     inkscape:window-y="20"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;stroke:#000000;stroke-width:3.45669;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1"
       d="M 3.5302197,12.994129 H 22.90728"
       id="path63" />
    <path
       style="fill:none;stroke:#000000;stroke-width:3.45669;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1"
       d="M 13.181629,3.3427197 V 22.71978"
       id="path63-3" />
  </g>
</svg>
				<input type="button" class="confirm" id="confirm">
			</div>

		</div>
		</div>
		<script>
			const xhr = new XMLHttpRequest();
			xhr.open("GET", "/api/notelist/" + localStorage.getItem("token"), true);
			xhr.onload = () => {
				console.log("rec");
				console.log(xhr.responseText.toString());
				const notes = xhr.responseText.toString().split('\n');
				notes.forEach((note) => {
					if(note != "") {
						var thisNote = document.createElement("li");
						var noteLink = document.createElement("a");
						noteLink.innerText = decodeURI(note);
						noteLink.href = "/notetaking#" + note;
						thisNote.appendChild(noteLink);
						var line = document.createElement("hr");
						var theList = document.getElementById("list");
						theList.appendChild(thisNote);
						theList.appendChild(line);
					}
				});
			};
			xhr.send();
			var body = document.getElementById("body");
			var addButton = document.getElementById("addButton");
			addButton.type = "button";
			addButton.value = "Create a New Note";
			addButton.onclick = () => {
				var addButtonC = document.getElementById("addButtonC");
				addButtonC.style.height = "6rem";
				var commitC = document.getElementById("commitC");
				commitC.style.display = "block";
				var confirmButton = document.getElementById("confirm");
				confirmButton.onclick = () => {
					window.location = "/notetaking#" + document.getElementById("noteName").value;
				};
			};
		</script>
	</body>
</html>
			
